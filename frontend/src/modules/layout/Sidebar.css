/* ============================================
   ðŸŒŠ SIDEBAR â€“ White/Black/Ocean Blue Luxury
   ============================================ */
:root{
  --sb-bg: linear-gradient(180deg, rgba(255,255,255,.95) 0%, rgba(240,249,255,.95) 100%);
  --sb-border: rgba(6,182,212,.20);
  --sb-shadow: 4px 0 30px rgba(6,182,212,.08), 0 0 0 1px rgba(6,182,212,.05) inset;
  --sb-text: #0f172a;
  --sb-muted: #334155;
  --sb-cyan: #06b6d4;
  --sb-sky: #3b82f6;
  --sb-glass: linear-gradient(135deg, rgba(6,182,212,.08) 0%, rgba(59,130,246,.06) 100%);
  --sb-active: linear-gradient(135deg, rgba(6,182,212,.2) 0%, rgba(59,130,246,.15) 100%);
  --sb-hover: linear-gradient(135deg, rgba(6,182,212,.12) 0%, rgba(59,130,246,.08) 100%);
  --sb-focus: 0 0 0 3px rgba(14,165,233,.20);
  --sb-radius: 16px;
}

.dark:root{
  --sb-bg: linear-gradient(180deg, #111827 0%, #0b1220 100%);
  --sb-border: rgba(255,255,255,.18);
  --sb-shadow: 4px 0 20px rgba(2,6,23,.50);
  --sb-text: #e5e7eb;
  --sb-muted: #cbd5e1;
  --sb-glass: linear-gradient(135deg, rgba(255,255,255,.08) 0%, rgba(255,255,255,.06) 100%);
  --sb-active: linear-gradient(135deg, rgba(255,255,255,.25) 0%, rgba(255,255,255,.20) 100%);
  --sb-hover: linear-gradient(135deg, rgba(255,255,255,.18) 0%, rgba(255,255,255,.12) 100%);
  --sb-focus: 0 0 0 3px rgba(255,255,255,.18);
}

/* Shell */
.sidebar{
  position: fixed; inset: 0 auto 0 0;
  width: 240px; height: 100vh; z-index: 1001;
  background: var(--sb-bg);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border-right: 1px solid var(--sb-border);
  box-shadow: var(--sb-shadow);
  overflow-y: auto; padding: 0;
  transition: transform .35s cubic-bezier(.4,0,.2,1), box-shadow .3s, border-color .3s;
}

/* Header */
.sidebar-header{
  position: relative;
  padding: 18px 18px 14px;
  border-bottom: 1px solid var(--sb-border);
  background: var(--sb-glass);
}
.brand{ display:flex; align-items:center; gap:10px; font-weight:800; font-size:18px; color: var(--sb-text); }
.brand-logo{
  display:grid; place-items:center; width:34px; height:34px; border-radius:12px; color:#fff;
  background: linear-gradient(135deg, var(--sb-cyan) 0%, var(--sb-sky) 100%);
  box-shadow: 0 10px 24px rgba(14,165,233,.25);
}
.brand-text{ letter-spacing:.2px; }

.user-info{ margin-top:8px; font-size:12px; color: var(--sb-muted); }
.user-name{ display:block; margin-bottom:2px; }

.role-badge{
  display:inline-block; padding:3px 8px; border-radius:999px; font-size:10px; font-weight:700; text-transform:uppercase;
  color:#fff; background: #64748b;
}
.role-badge.dealer{   background: rgba(34,197,94,.9); }
.role-badge.customer{ background: rgba(59,130,246,.9); }
.role-badge.evm_admin{background: rgba(239,68,68,.9); }

/* Menu */
.sidebar-menu{ list-style:none; margin:0; padding:10px 10px 18px; }
.sidebar-menu li{ margin: 6px 6px; }

.menu-link{
  position: relative; display:flex; align-items:center; gap:12px;
  padding: 12px 14px; text-decoration:none; border-radius: var(--sb-radius);
  color: var(--sb-muted); font-weight:600; letter-spacing:.1px;
  background: transparent; border: 1px solid transparent;
  transition: transform .2s, box-shadow .2s, background .2s, color .2s, border-color .2s;
  outline: none;
}
.menu-link .link-icon{ width:22px; text-align:center; }
.menu-link .link-text{ flex: 1 1 auto; }

/* shimmer overlay */
.menu-link::before{
  content:''; position:absolute; inset:0; border-radius: inherit;
  background: linear-gradient(90deg, transparent, rgba(6,182,212,.18), transparent);
  transform: translateX(-100%); transition: transform .6s ease;
}
.menu-link:hover::before{ transform: translateX(100%); }

/* dot at right */
.link-dot{
  width:6px; height:6px; border-radius:50%;
  background: rgba(15,23,42,.25);
  transition: transform .2s, background .2s;
}

/* hover */
.menu-link:hover{
  background: var(--sb-hover);
  border-color: rgba(6,182,212,.25);
  color: #0e7490;
  transform: translateX(4px);
  box-shadow: 0 12px 26px rgba(14,165,233,.18), 0 0 0 1px rgba(6,182,212,.18) inset;
}
.menu-link:hover .link-dot{ background:#fff; transform: scale(1.5); }

/* active */
.menu-link.active{
  background: var(--sb-active);
  color: #0e7490;
  border-color: rgba(6,182,212,.35);
  box-shadow: 0 14px 30px rgba(14,165,233,.22), 0 0 0 1px rgba(6,182,212,.28) inset;
  transform: translateX(4px);
}

/* Role switcher (dev) */
.role-switcher{
  margin: 12px 6px 0; padding: 12px; border-top: 1px dashed var(--sb-border);
}
.role-switcher > small{
  display:block; margin-bottom:8px; color: var(--sb-muted);
}
.role-btn{
  width:100%; margin:6px 0; padding:8px 12px; font-size:12px; cursor:pointer;
  color: var(--sb-text);
  background: var(--sb-glass);
  border: 1px solid var(--sb-border);
  border-radius: 10px;
  transition: .2s;
}
.role-btn:hover{ box-shadow: 0 8px 20px rgba(14,165,233,.18); transform: translateY(-1px); }
.role-btn:focus{ box-shadow: var(--sb-focus); outline: none; }

/* Scrollbar */
.sidebar::-webkit-scrollbar{ width: 6px; }
.sidebar::-webkit-scrollbar-thumb{ background: rgba(0,0,0,.15); border-radius: 3px; }
.dark .sidebar::-webkit-scrollbar-thumb{ background: rgba(255,255,255,.28); }

/* Mobile Responsive */
@media (max-width: 768px){
  .sidebar{ transform: translateX(-100%); width: 86vw; max-width: 320px; }
  .sidebar.open{ transform: translateX(0); }
}
@media (max-width: 480px){
  .sidebar{ width: 100vw; }
}
